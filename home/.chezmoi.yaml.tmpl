{{- /* Checks if running interactively */ -}}
{{- $interactive := stdinIsATTY -}}

{{- $name := "Chris Burnham" -}}
{{- if hasKey . "name" -}}
{{-   $name = .name -}}
{{- else if $interactive -}}
{{-   $name = promptString "Name" $name -}}
{{- end -}}

{{- $is_personal := false -}}{{/* true if this machine should have personal config & secrets (LastPass) */}}
{{- if hasKey .flags "is_personal" -}}
{{-   $is_personal = .flags.is_personal -}}
{{- else -}}
{{-   $is_personal = promptBool "Is this a personal machine" $is_personal -}}
{{- end -}}

{{- $is_work := false -}}{{/* true if this machine should have work config & secrets (1Password) */}}
{{- if hasKey .flags "is_work" -}}
{{-   $is_work = .flags.is_work -}}
{{- else -}}
{{-   $is_work = promptBool "Is this a work machine" $is_work -}}
{{- end -}}

{{- if $interactive -}}
{{-   writeToStdout "ðŸ’¡ Tip: you can re-enter your data with `chezmoi init --data=false`\n" -}}
{{- end -}}

sourceDir: "{{ .chezmoi.sourceDir }}"

data:
  name: {{ $name | quote }}

  flags:
    is_personal: {{ $is_personal }}
    is_work: {{ $is_work }}
