#!{{ lookPath "bash" }}

# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   @author         :   Chris Burnham
#   @file           :
#   @description    :
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# --------------------------------------------------------------------------------------------------
#   @description    :   Load script libraries
# --------------------------------------------------------------------------------------------------
{{ template "script-library" }}
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
#   @description    :   Pre-flight
# --------------------------------------------------------------------------------------------------
info "setting log level to debug." -category "TouchID" -icon "ðŸ‘‡"
LOG_LEVEL=5
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
#   @description    :   sudo-touchid
# --------------------------------------------------------------------------------------------------
{{ if .personal }}
debug "Administrator password is required for \`sudo\` operations in this script." -category "TouchID" -icon "ðŸ‘‡"
{{ template "script-sudo" }}

info "installing sudo-touchid." -category "TouchID" -icon "ðŸ‘‡"
brew install "artginzburg/tap/sudo-touchid"

info "enabling sudo-touchid." -category "TouchID" -icon "ðŸ‘‡"
sudo-touchid
# sudo brew services start sudo-touchid
{{ end }}
# ==================================================================================================
