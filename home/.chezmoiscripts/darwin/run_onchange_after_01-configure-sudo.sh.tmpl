#!/usr/bin/env bash

# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   @author         :   Chris Burnham
#   @file           :
#   @description    :
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# --------------------------------------------------------------------------------------------------
#   @description    :   Get script libraries
# --------------------------------------------------------------------------------------------------
{{ template "script-library" }}
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
#   @description    :   Pre-flight
# --------------------------------------------------------------------------------------------------
info "[ðŸ‘‡        Touch ID] Setting log level to debug."
LOG_LEVEL=7
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
#   @description    :   sudo-touchid
# --------------------------------------------------------------------------------------------------
{{ if .personal -}}
# info "[ðŸ‘‡        Touch ID] Administrator password needed to install sudo-touchid"
{{ template "script-sudo" }}

info "[ðŸ‘‡        Touch ID] Install sudo-touchid"
brew install "artginzburg/tap/sudo-touchid"

info "[ðŸ‘‡        Touch ID] Enable sudo-touchid"
sudo-touchid

{{ else }}
debug "[ðŸ‘‡        Touch ID] Skipping. Does not apply to this Chezmoi profile."
exit 0

{{ end }}
# ==================================================================================================
