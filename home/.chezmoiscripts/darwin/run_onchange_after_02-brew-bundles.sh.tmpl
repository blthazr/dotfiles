#!/usr/bin/env bash

# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   @author         :   Chris Burnham
#   @file           :
#   @description    :
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# --------------------------------------------------------------------------------------------------
#   @description    :   Get script libraries
# --------------------------------------------------------------------------------------------------
{{ template "script-library" }}
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
#   @description    :   Pre-flight
# --------------------------------------------------------------------------------------------------
info "[üç∫        Homebrew] Setting log level to debug"
LOG_LEVEL=7

if ! check_binary brew; then
  info "[üç∫        Homebrew] Application is not installed"
  exit 0
else
  debug "[üç∫        Homebrew] Application is installed"
fi
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
#   @description    :   Install Homebrew Bundles
# --------------------------------------------------------------------------------------------------
info "[üç∫        Homebrew] Installing core Homebrew bundles"
brew bundle install --no-upgrade --no-lock --file=/dev/stdin <<EOF
{{ template "Brewfile.tmpl" . }}
EOF
# ==================================================================================================
