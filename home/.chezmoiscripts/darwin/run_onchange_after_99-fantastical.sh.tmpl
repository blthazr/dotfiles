#!{{ lookPath "bash" }}

# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#   @author         :   Chris Burnham
#   @file           :
#   @description    :
# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

# --------------------------------------------------------------------------------------------------
#   @description    :   Load script libraries
# --------------------------------------------------------------------------------------------------
{{ template "script-library" }}
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
#   @description    :   Pre-flight
# --------------------------------------------------------------------------------------------------
info "Setting log level to debug."
LOG_LEVEL=5

info "Closing Fantastical, to prevent it from overriding changes." -category "Fantastical" -icon "ðŸ“…"
osascript -e 'tell application "Fantastical" to quit'
# ==================================================================================================

# --------------------------------------------------------------------------------------------------
#   @description    :   Fantastical | Preferences | Advanced
# --------------------------------------------------------------------------------------------------
debug "Preferences | Advanced | Automatically check for updates | checked" -category "Fantastical" -icon "ðŸ“…"
### Automatically check for updates
# options:
#   - unchecked, false
#   - checked, true
# default: checked
defaults write com.flexibits.fantastical2.mac SUEnableAutomaticChecks -bool true

debug "Preferences | Advanced | Include anonymous system profile | unchecked" -category "Fantastical" -icon "ðŸ“…"
### Include anonymous system profile
# options:
#   - unchecked, false
#   - checked, true
# default: checked
defaults write com.flexibits.fantastical2.mac SUSendProfileInfo -bool false
# ==================================================================================================

info "Configuration complete." -category "Fantastical" -icon "ðŸ“…"
